<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>前端圈圈</title>
  
  <subtitle>写尽千山 落笔是你</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-04-09T09:58:27.025Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>魏西</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>JS常用工具函数(正册篇)</title>
    <link href="http://yoursite.com/2019/04/09/JS%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0(%E6%AD%A3%E5%88%99%E7%AF%87)/"/>
    <id>http://yoursite.com/2019/04/09/JS%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0(%E6%AD%A3%E5%88%99%E7%AF%87)/</id>
    <published>2019-04-09T02:52:55.000Z</published>
    <updated>2020-04-09T09:58:27.025Z</updated>
    
    <content type="html"><![CDATA[<blockquote><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a><center><font color="#8ec6c5">前言</font></center></h2><p>在我们日常开发的过程中，可能会遇到各种需求，为了节约开发时间，作者整理了下面这些JavaScript的工具函数，&gt; 以便提高我们的开发效率。</p></blockquote><hr><h5 id="正册校验check工具函数"><a href="#正册校验check工具函数" class="headerlink" title="正册校验check工具函数"></a><font color="#8ec6c5">正册校验check工具函数</font></h5><h6 id="参考-any-rule"><a href="#参考-any-rule" class="headerlink" title="参考  any-rule"></a>参考  <a href="http://www.fly63.com/nav/2924" target="_blank" rel="noopener">any-rule</a></h6><ol><li>验证不能包含字母<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isNoWord=<span class="function"><span class="params">value</span>=&gt;</span><span class="regexp">/^[^A-Za-z]*$/g</span>.test();</span><br></pre></td></tr></table></figure></li><li>验证中文和数字<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isCHNAndEN = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^((?:[\u3400-\u4DB5\u4E00-\u9FEA\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0])|(\d))+$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证邮政编码(中国)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isPostcode = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^(0[1-7]|1[0-356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[0-5]|8[013-6])\d&#123;4&#125;$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证微信号，6至20位，以字母开头，字母，数字，减号，下划线<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isWeChatNum = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^[a-zA-Z][-_a-zA-Z0-9]&#123;5,19&#125;$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证16进制颜色<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isColor16 = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^#?([a-fA-F0-9]&#123;6&#125;|[a-fA-F0-9]&#123;3&#125;)$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证火车车次<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isTrainNum = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^[GCDZTSPKXLY1-9]\d&#123;1,4&#125;$/g</span>.test(value);</span><br></pre></td></tr></table></figure><ol start="7"><li>验证手机机身码(IMEI)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isIMEI = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^\d&#123;15,17&#125;$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证必须带端口号的网址、IP<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isRightWebsite = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^(((ht|f)tps?):\/\/)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:/~+#-]*[\w@?^=%&amp;/~+#-])?$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证统一社会信用码<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isCreditCode = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^[0-9A-HJ-NPQRTUWXY]&#123;2&#125;\d&#123;6&#125;[0-9A-HJ-NPQRTUWXY]&#123;10&#125;$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证迅雷链接<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isThunderLink = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^thunderx?:\/\/[a-zA-Z\d]+=$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证ed2k链接(宽松匹配)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> ised2k = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^ed2k:\/\/\|file\|.+\|\/$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证磁力链接(宽松匹配)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isMagnet = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^magnet:\?xt=urn:btih:[0-9a-fA-F]&#123;40,&#125;.*$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证子网掩码<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isSubnetMask = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^(?:\d&#123;1,2&#125;|1\d\d|2[0-4]\d|25[0-5])(?:\.(?:\d&#123;1,2&#125;|1\d\d|2[0-4]\d|25[0-5]))&#123;3&#125;$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证linux”文件夹”路径<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isLinuxFolderPath = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^(\/[^/]+)+\/?$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证linux”文件”路径<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isLinuxFilePath = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^(\/[^/]+)+$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证window”文件夹”路径<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isWindowsFolderPath = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^[a-zA-Z]:\\(?:\w+\\?)*$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证window”文件”路径<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isWindowsFilePath = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^[a-zA-Z]:\\(?:\w+\\)*\w+\.\w+$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证股票代码(A股)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isAShare = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^(s[hz]|S[HZ])(000[\d]&#123;3&#125;|002[\d]&#123;3&#125;|300[\d]&#123;3&#125;|600[\d]&#123;3&#125;|60[\d]&#123;4&#125;)$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证版本号格式必须为X.Y.Z<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isVersion = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^\d+(?:\.\d+)&#123;2&#125;$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证视频链接地址（视频格式可按需增删）<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isVideoUrl = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^https?:\/\/(.+\/)+.+(\.(swf|avi|flv|mpg|rm|mov|wav|asf|3gp|mkv|rmvb|mp4))$/i</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证图片链接地址（图片格式可按需增删）<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isImageUrl = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^https?:\/\/(.+\/)+.+(\.(gif|png|jpg|jpeg|webp|svg|psd|bmp|tif))$/i</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证银行卡号（10到30位, 覆盖对公/私账户, 参考微信支付）<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isAccountNumber = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^[1-9]\d&#123;9,29&#125;$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证中文姓名<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isChineseName = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^(?:[\u4e00-\u9fa5·]&#123;2,16&#125;)$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证英文姓名<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isEnglishName = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/(^[a-zA-Z]&#123;1&#125;[a-zA-Z\s]&#123;0,20&#125;[a-zA-Z]&#123;1&#125;$)/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证车牌号(新能源)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isLicensePlateNumberNER = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领 A-Z]&#123;1&#125;[A-HJ-NP-Z]&#123;1&#125;(([0-9]&#123;5&#125;[DF])|([DF][A-HJ-NP-Z0-9][0-9]&#123;4&#125;))$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证车牌号(非新能源)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isLicensePlateNumberNNER = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领 A-Z]&#123;1&#125;[A-HJ-NP-Z]&#123;1&#125;[A-Z0-9]&#123;4&#125;[A-Z0-9挂学警港澳]&#123;1&#125;$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证车牌号(新能源+非新能源)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isLicensePlateNumber = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^(?:[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领 A-Z]&#123;1&#125;[A-HJ-NP-Z]&#123;1&#125;(?:(?:[0-9]&#123;5&#125;[DF])|(?:[DF](?:[A-HJ-NP-Z0-9])[0-9]&#123;4&#125;)))|(?:[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领 A-Z]&#123;1&#125;[A-Z]&#123;1&#125;[A-HJ-NP-Z0-9]&#123;4&#125;[A-HJ-NP-Z0-9 挂学警港澳]&#123;1&#125;)$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证手机号中国(严谨), 根据工信部2019年最新公布的手机号段<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isMPStrict = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-7|9])|(?:5[0-3|5-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[1|8|9]))\d&#123;8&#125;$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证手机号中国(宽松), 只要是13,14,15,16,17,18,19开头即可<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isMPRelaxed = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^(?:(?:\+|00)86)?1[3-9]\d&#123;9&#125;$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证email(邮箱)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isEmail = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/^[a-zA-Z0-9.!#$%&amp;'*+/=?^_`&#123;|&#125;~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]&#123;0,61&#125;[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]&#123;0,61&#125;[a-zA-Z0-9])?)*$/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证座机电话(国内),如: 0341-86091234<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isLandlineTelephone = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/\d&#123;3&#125;-\d&#123;8&#125;|\d&#123;4&#125;-\d&#123;7&#125;/g</span>.test(value);</span><br></pre></td></tr></table></figure></li><li>验证身份证号, 支持1/2代(15位/18位数字)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string &#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment"> * */</span> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> isIDCard = <span class="function"><span class="params">value</span> =&gt;</span> <span class="regexp">/(^\d&#123;8&#125;(0\d|10|11|12)([0-2]\d|30|31)\d&#123;3&#125;$)|(^\d&#123;6&#125;(18|19|20)\d&#123;2&#125;(0\d|10|11|12)([0-2]\d|30|31)\d&#123;3&#125;(\d|X|x)$)/g</span>.test(value);</span><br></pre></td></tr></table></figure></li></ol></li></ol><hr><h4 id="完结"><a href="#完结" class="headerlink" title="完结"></a><center><font color="#8ec6c5">完结</font></center></h4>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;&lt;center&gt;&lt;font color=&quot;#8ec6c5&quot;&gt;前言&lt;/font&gt;&lt;/center&gt;&lt;/h2&gt;&lt;p&gt;在我们日常开发的过程中
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>JS关于闭包问题</title>
    <link href="http://yoursite.com/2019/01/19/%E5%85%B3%E4%BA%8E%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/"/>
    <id>http://yoursite.com/2019/01/19/%E5%85%B3%E4%BA%8E%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/</id>
    <published>2019-01-19T00:29:00.000Z</published>
    <updated>2020-04-11T03:33:33.570Z</updated>
    
    <content type="html"><![CDATA[<blockquote><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a><center><font color="#8ec6c5">前言</font></center></h2><p>闭包(closure)是JavaScript语言的一个难点，也是它的特色，很多高级应用都要依靠闭包实现</p></blockquote><hr><h2 id="变量的作用域"><a href="#变量的作用域" class="headerlink" title="变量的作用域"></a>变量的作用域</h2><p>  <font color="#dd2c00">*</font>要理解闭包，首先必须理解JavaScript特殊的变量作用域<br>  变量的作用域无非就两种： <font color="#4cd3c2">全局变量</font>和<font color="#f78259">局部作用域</font><br>  JavaJcript语言的特殊之处，就在于函数内部可以直接读取全局变量</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> nb=<span class="number">111</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(nb);</span><br><span class="line">&#125;</span><br><span class="line">fn();</span><br></pre></td></tr></table></figure><p>   反而在函数内部声明的变量外部无法访问！</p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="keyword">var</span> nb=<span class="number">222</span>;</span><br><span class="line">&#125;</span><br><span class="line"> alert(nb);</span><br></pre></td></tr></table></figure><p> <font color="#dd2c00">*</font>需要注意的地方就是，在函数内部声明变量的时候，一定要用var命令，则声明了一个全局匿名变量。</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    nb=<span class="number">222</span>;</span><br><span class="line">&#125;</span><br><span class="line"> alert(nb); <span class="number">222</span></span><br></pre></td></tr></table></figure><h2 id="怎么在函数外部读取函数内部声明的变量？"><a href="#怎么在函数外部读取函数内部声明的变量？" class="headerlink" title="怎么在函数外部读取函数内部声明的变量？"></a>怎么在函数外部读取函数内部声明的变量？</h2><p><font color="#21bf73"> ok</font> 那只有在函数内部，再定义一个函数。如下</p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    nb=<span class="number">222</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       alert(nb); <span class="number">222</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> 解读：在上面代码中，函数fn2就被包含在函数fn内部，这时fn内部的所有局部变量，对于fn2来说都是可见的。但是反过来就不行，fn2内部中的局部变量，对fn就是不可见的。这种模式就是javascript语言特有的”链式作用域”结构<br> 子对象会一级一级地向上寻找所有父对象的变量，所以，父对象的所有变量，对子对象来说都是可见的，反之不成立。<br> 既然 fn2可以读取fn中的局部变量，那么只要把fn2作为返回值，就可以读取了！</p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    nb=<span class="number">222</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       alert(nb);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fn2</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> con=fn();</span><br><span class="line">    con(); <span class="comment">//222</span></span><br></pre></td></tr></table></figure><h2 id="闭包的概念"><a href="#闭包的概念" class="headerlink" title="闭包的概念"></a>闭包的概念</h2><p> 上面所说的fn()函数就是闭包<br> 各种专业文献上对于“闭包”的定义非常抽象，我们可以理解闭包就是能够读取函数其他函数内部变量的函数。<br> 由于在Javascript语言中，只有在函数的子函数才能读取局部变量，因此可以把闭包理解为’定义在函数内部的函数’。</p><p>所以 “闭包”就是将函数内部和函数外部连接起来的一栋桥梁。</p><h2 id="什么是闭包"><a href="#什么是闭包" class="headerlink" title="什么是闭包:"></a>什么是闭包:</h2><p>当内部函数 在定义它的作用域 的外部 被引用时,就创建了该内部函数的闭包 ,如果内部函数引用了位于外部函数的变量,当外部函数调用完毕后,这些变量在内存不会被 释放,因为闭包需要它们.</p><h2 id="闭包的用途"><a href="#闭包的用途" class="headerlink" title="闭包的用途"></a>闭包的用途</h2><p> 闭包的用途有很多，其中有两个常用的地方，一个是前面所说可以访问函数内部的变量，另一个就是让这些函数内部的变量始终保存在内存中。<br> 怎么来理解呐？ </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> nb=<span class="number">222</span>;</span><br><span class="line">    nbAdd=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;nb+<span class="number">1</span>&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(nb);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fn2</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> con =fn();</span><br><span class="line">con(); <span class="comment">//222</span></span><br><span class="line">nbAdd();</span><br><span class="line">con(); <span class="comment">//223</span></span><br></pre></td></tr></table></figure><p>在上面代码中，con实际就是fn2的闭包函数。它一共运行了两次，第一次是222，第二次是223，得知，函数fn中的nb变量一直保存在内存中，并没有在fn调用之后自动清除。<br>为什么会这样呐？<br> 原因就在于fn是fn2的父函数，而fn2被赋给了一个全局变量，fn2一直存在于内存中，而fn2的存在依赖于fn，因此fn也始终存在内存中，不会在调用结束后，被垃圾回收机制回收。<br> <font color="#dd2c00">*</font>需要注意的地方就是，nbAdd函数为匿名函数，没有用var关键字声明所以是一个全局变量，不是局部变量。匿名函数本身也是一种闭包。</p><h2 id="使用闭包的注意点"><a href="#使用闭包的注意点" class="headerlink" title="使用闭包的注意点"></a>使用闭包的注意点</h2><p>  关于使用闭包有哪些需要注意的地方，我相信有不少开发者在接触Javascript的时候就有过初步了解。针对以上问题总结如下</p><ol><li><p>由于闭包会使得函数内部的变量都被保存在内存中，对于内存消耗很大，所以不能滥用闭包，否则会造成很多性能问题。在IE中可能导致内存泄漏。<br>解决以上问题就是，在调用之后清除不使用的局部变量。</p></li><li><p>闭包会在父函数外部，改变父函数内部的值，所以，如果把父函数当做对象使用，把闭包当做公用的方法，把内部变量当做它的私有属性，也不要随便改变父函数内部的值。</p><h2 id="闭包思考题"><a href="#闭包思考题" class="headerlink" title="闭包思考题"></a>闭包思考题</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name=<span class="string">"前端圈圈"</span>;</span><br><span class="line"><span class="keyword">var</span> object=&#123;</span><br><span class="line">    name:<span class="string">'魏西'</span>,</span><br><span class="line">    getName:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">alert(object.getName()()); <span class="comment">//前端圈圈</span></span><br></pre></td></tr></table></figure><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>理解闭包是成为高级开发工程师过程中的必经之路，理解闭包才能写出更优雅高效的代码。</p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;&lt;center&gt;&lt;font color=&quot;#8ec6c5&quot;&gt;前言&lt;/font&gt;&lt;/center&gt;&lt;/h2&gt;&lt;p&gt;闭包(closure)
      
    
    </summary>
    
    
    
  </entry>
  
</feed>
